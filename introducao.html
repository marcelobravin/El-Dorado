<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <title>E-Dorado - Simulação</title>

    <link href="data:image/x-icon;base64,AAABAAEAEBAQAAEABAAoAQAAFgAAACgAAAAQAAAAIAAAAAEABAAAAAAAgAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAPwr/ACbrDAAA6v8A8pIMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMzMzMzMzAAIDMzMzMzBAAiAzMzMzBEACIgMzMzBEQAIiIDMzBERAAiIiAzBEREACIiIgBEREQAIiIiAERERAAiIiARBEREACIiAREQREQAIiAREREERAAiARERERBEACAREREREQQAAREREREREAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA" rel="icon" type="image/x-icon" />
    <script type="text/javascript" src="assets/vendors/jquery-3.4.1.min.js"></script>
    <script type="text/javascript" src="assets/biblioteca.js"></script>
    <script type="text/javascript" src="assets/scrollTo.js"></script>
    <!-- <script type="text/javascript" src="assets/habituacao.js"></script> -->

    <script type="text/javascript">
        var audios = [];

        let frases = [
            "- Existe uma lenda de uma cidade perdida."
            , "- Totalmente feita de ouro puro e com tesouros inimagináveis."
            , "- Muitos exploradores tentaram achá-la, porém nenhum conseguiu."
        ];
/*
        let dublagens = [
            "- Existe uma lenda de uma cidade perdida."
            , "- Totalmente feita de ouro puro e com tesouros inimagináveis."
            , "- Muitos exploradores tentaram achá-la, porém nenhum conseguiu."
        ];
*/

        $(document).ready(function(){

            $("#ancora").click(function(e){
                e.preventDefault();
                var textToDisplay = getFraseSequencial(etapa);
                // console.log(bloco, etapa);


                dublagem(bloco, etapa);

                if (textToDisplay == -1) {

                    if (bloco == 0) {
                        frases = ["- Até hoje!"];

                    } else if (bloco == 1) {
                        $("body").addClass('quadro-1');
                        $(".typewriter").addClass("invisivel");

                    } else if (bloco == 2) {
                        $(".typewriter").removeClass("invisivel");
                        frases = [
                            "- Olá aventureiro, eu me chamo Ariel, que bom que você chegou para me ajudar!"
                            , "- Estamos próximos de descobrir a cidade mais procurada de todos os tempos, eu tenho certeza disso."
                            , "- Vamos! Este é o caminho."
                        ];
/** /
console.log(bloco, etapa);
                        let dub = '';
                        switch (etapa) {
                            case 1: dub = 'eu me chamo ariel';              break;
                            case 2: dub = 'proximos de descobrir a cidade'; break;
                            case 3: dub = 'este é o caminho';               break;
                        }

                        if (dub != '') {
                            audios['dublagem'] = new Audio('audio/frases/'+ dub +'.ogg');
                            audios['dublagem'].play();
                        }
/**/

                        $("body").addClass('quadro-2');

                    } else if (bloco == 3) {
                        frases = [
                            "- Veja, lá está a pirâmide, com certeza ela é a entrada para a cidade de ouro El-Dorado."
                        ];

                        audios['dublagem'] = new Audio('audio/frases/veja la esta a piramide.ogg');
                        audios['dublagem'].play();

                        $("body").addClass('quadro-3');

                    } else if (bloco == 4) {
                        window.location.href = "menu.html";
                    }

                    etapa = 0;
                    bloco++;
                    typewrite();
                    // return;
                } else {
                    type(textToDisplay);
                    etapa++;
                }
            });
        });

        setTimeout(function(){
            $("#ancora").click();
        }, 1500);

        var etapa = 0;
        var bloco = 0;
        function typewrite ()
        {
            var textToDisplay = getFraseSequencial(etapa);

            if (textToDisplay == -1) {
                let faseAtual = parseInt( pegarNumeroFase() );
                window.location.href = "simulacao.html?=" + faseAtual;
                return;

                // muda para proximo bloco de textos
                // etapa = 0; /* precisa ? */
                // bloco++; /* precisa ? */
            } else {

                /** /
                console.log(bloco, etapa);
                                        let dub = '';
                                        switch (etapa) {
                                            case 1: dub = 'eu me chamo ariel';              break;
                                            case 2: dub = 'proximos de descobrir a cidade'; break;
                                            case 3: dub = 'este é o caminho';               break;
                                        }

                                        if (dub != '') {
                                            audios['dublagem'] = new Audio('audio/frases/'+ dub +'.ogg');
                                            audios['dublagem'].play();
                                        }
                /**/
                type(textToDisplay);
                etapa++;
            }
        }
    </script>
    <link rel="stylesheet" type="text/css" href="assets/jogo.css">
    <link rel="stylesheet" type="text/css" href="assets/introducao.css">
</head>

<body>

    <div class="container">

        <a href="menu.html" id="botaoFechar">X</a>

        <div class="typewriter"></div>

        <div id="containerBotoesConfirm" class="">
            <a href="#" id="ancora">
                Next
            </a>
        </div>
    </div>

</body>
</html>